<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Programa Articulos
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" href="vista.css" media="screen" />
</head>

<body>



    <table class="table">
        <h1>Tabla de Articulos</h1>
        <thead>
            <tr>
                <th>Código</th>
                <th>Descripción</th>
                <th>Precio</th>
                <th scope="col">Borrar</th>
                <th scope="col">Seleccionar</th>
            </tr>
        </thead>
        <tbody id="tabla">
        </tbody>
    </table>



    <div class="form">
        <h1>Formulario de articulos</h1>
        <div class="contenedor-lineas">
            <div class="lineas">
                <label class="form-label">Codigo</label>
                <input type="number" class="form-control" id="Codigo" aria-describedby="emailHelp">
            </div>
            <div class="lineas">
                <label class="form-label">Descripción</label>
                <input type="text" class="form-control" id="descripcion" aria-describedby="emailHelp">
            </div>
            <div class="lineas">
                <label class="form-label">Precio</label>
                <input type="number" class="form-control" id="Precio">
            </div>

            <button type="submit" class="btn btn-success" onclick="guardarFormulario()" value="Enviar">Agregar</button>
            <button type="submit" class="btn btn-primary" onclick="mostrar()">Modificar</button>

        </div>

    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>


    <script>
        let articulo = [];
        class articulos {
            constructor(codigo, descripcion, Precio) {
                this.codigo = codigo;
                this.descripcion = descripcion;
                this.Precio = Precio;
            }
            borrar() {
                if (confirm('¿Estas seguro de que quieres eliminar?')) {
                    articulo.splice(this.codigo, 1);
                    console.log(this.codigo);
                    return true;
                }


            }

            seleccionar() {

                document.getElementById("Codigo").value = this.codigo;
                document.getElementById("descripcion").value = this.descripcion;
                document.getElementById("Precio").value = this.Precio;
            }
        }


        function guardarFormulario() {
            let codigo = document.getElementById("Codigo").value;
            let descripcion = document.getElementById("descripcion").value;
            let Precio = document.getElementById("Precio").value;
            const articulo1 = new articulos(codigo, descripcion, Precio);
            articulo.push(articulo1);
            mostrarDatos();


        }

        function mostrarDatos() {

            articulo.forEach(function(element, index) {
                var tabla = document.getElementById('tabla').innerHTML += '<tr>' + '<td >' + element.codigo + '</td>' + '<td >' + element.descripcion + '</td>' + '<td >' + index + '</td>' + '<td>' + ' <button button id="borrar" type="submit" onclick="Borrar(id)" class="btn btn-danger">Borrar </button>' + '</td>' + '<td>' + '<button button id="seleccionar" type="submit" class="btn btn-primary" onclick="seleccionar()" > Seleccionar</button>' + '</td>' + '</tr>';
            });

        }

        function Borrar(id) {
            articulo.splice(id, 1);
            console.log(id);
            mostrarDatos();
        }
    </script>
</body>

</html>